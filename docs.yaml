openapi: 3.0.0
info:
  title: API do Tramita√ß√£o Inteligente
  description: |

    üöÄ Documenta√ß√£o da API da plataforma Tramita√ß√£o Inteligente, permitindo a integra√ß√£o com sistemas externos.

    ## üë• P√∫blico alvo
    
    Como toda API, √© destinada a desenvolvedores. Se voc√™ n√£o √© desenvolvedor (ou n√£o tem um desenvolvedor), e deseja integrar o Tramita√ß√£o Inteligente com algum outro sistema, preencha o formul√°rio [nesta p√°gina](/api/info) solicitando que nosso time desenvolva a integra√ß√£o.

    ## üìñ Documenta√ß√£o

    A documenta√ß√£o da API pode ser consultada nesta p√°gina (que inclusive √© interativa e permite testar as requisi√ß√µes usando seu token diretamente) ou, se preferir, baixando [a especifica√ß√£o OpenAPI em YAML](/api/docs.yaml) para utiliz√°-lo com sua ferramenta de IA preferida.
    
    ## üí∞ Custo
    
    A API √© oferecida sem custo adicional para os assinantes do Tramita√ß√£o.

    ## üìû Suporte

    Para solicitar acesso ou reportar problemas, utilize o [formul√°rio de suporte](/fale-conosco).
    
    ## üîê Autentica√ß√£o
    
    Esta API utiliza autentica√ß√£o por token.
    
    ### üîë Como obter um token de API:
    Tokens de API s√£o gerados e gerenciados atrav√©s do painel de controle. [Clique aqui para gerenciar suas chaves de API](/api/chaves).
    
    ### üìù Usando o token
    O token deve ser fornecido no header `Authorization`, com o valor `Bearer SEU_TOKEN_DE_API_AQUI`. Por exemplo:
    ```
    Authorization: Bearer 7a7cafca351f47a7e...
    ```

    Ou seja, o nome do header √© `Authorization`; j√° o valor √© `Bearer SEU_TOKEN_DE_API_AQUI` (n√£o se esque√ßa de incluir a string 'Bearer ' antes do token).

    ### üéÆ Autentica√ß√£o na documenta√ß√£o interativa

    A presente documenta√ß√£o utiliza SwaggerUI e, portanto, √© interativa, sendo poss√≠vel fazer requests diretamente a partir dela.

    Para tanto, √© necess√°rio se autenticar, clicando no bot√£o 'Authorize' abaixo e informando seu token de API.
    
    ## üîî Webhooks
    
    A API suporta webhooks para notificar aplica√ß√µes externas sobre eventos importantes. 
    
    Os webhooks podem ser configurados atrav√©s do [painel de configura√ß√£o](/api/webhooks/endpoints). Cada evento enviar√° um payload JSON com os dados do recurso afetado.
    
    Os seguintes eventos est√£o dispon√≠veis:
    
    ### Eventos de Cliente:
    - `customer.created` - Cliente foi criado
    - `customer.updated` - Cliente foi atualizado
    - `customer.destroyed` - Cliente foi removido (payload cont√©m apenas o ID)
    
    ### Eventos de Usu√°rio:
    - `user.created` - Usu√°rio foi criado
    - `user.updated` - Usu√°rio foi atualizado
    - `user.destroyed` - Usu√°rio foi removido (payload cont√©m apenas o ID)

    ### Eventos de Publica√ß√£o:
    - `publications.created` - Novas publica√ß√µes judiciais foram importadas. √â necess√°rio configurar previamente as OABs monitoradas em [painel de configura√ß√£o](/publicacoes/configuracoes). 
    
    O payload cont√©m um array de publica√ß√µes e √© enviado diariamente ap√≥s o t√©rmino da importa√ß√£o das publica√ß√µes do dia. 
    
    Veja o exemplo de payload na se√ß√£o Schemas, em `PublicationsCreatedPayload`), ou, se preferir, veja o exemplo abaixo:

    ```json
    {
      "event_type": "publications.created",
      "idempotency_key": "550e8400-e29b-41d4-a716-446655440000",
      "timestamp": "2025-12-15T10:30:00Z",
      "timestamp_epoch": 1734263400,
      "payload": {
        "publications": [
          {
            "id": 123,
            "uuid": "550e8400-e29b-41d4-a716-446655440001",
            "disponibilizacao_date": "2025-12-15",
            "publication_date": "2025-12-16",
            "inicio_do_prazo_date": "2025-12-17",
            "created_at": "2025-12-15T10:30:00Z",
            "link_tramitacao": "https://tramitacaointeligente.com.br/publicacoes/123",
            "link": "https://pje.trf3.jus.br/xxx",
            "texto": "PODER JUDICI√ÅRIO...",
            "nomeOrgao": "2¬™ Vara Gabinete JEF de Campo Grande",
            "nomeClasse": "PROCEDIMENTO DO JUIZADO ESPECIAL C√çVEL",
            "siglaTribunal": "TRF3",
            "numero_processo": "50103311520244036201",
            "numero_processo_com_mascara": "5010331-15.2024.4.03.6201",
            "destinatarios": [
              { "nome": "MARIA SILVA SANTOS", "polo": "A" }
            ],
            "destinatario_advogados": [
              { "nome": "JO√ÉO PEREIRA", "uf_oab": "SP", "numero_oab": "12345" }
            ]
          }
        ]
      }
    }
    ```
    
    ### üîÑ Idempot√™ncia
    
    Para garantir o processamento seguro dos webhooks, cada entrega inclui uma chave de idempot√™ncia:
    
    - **Header**: `X-Webhook-Idempotency-Key` cont√©m o ID √∫nico do evento
    - **Payload**: Campo `idempotency_key` no JSON tamb√©m cont√©m o mesmo ID
    
    A chave de idempot√™ncia representa o evento de neg√≥cio √∫nico que ocorreu. Use esta chave para:
    - Detectar e evitar processamento duplicado do mesmo evento
    - Identificar tentativas de reenvio (retry) do mesmo evento
    - Garantir que o mesmo evento recebido em m√∫ltiplos endpoints seja tratado como √∫nico
    
    **Importante**: A mesma chave ser√° usada em todas as tentativas de entrega (incluindo retries) e em todos os endpoints que recebem o mesmo evento.
    
  version: 1.0.0
    
servers:
  - url: /api/v1
    description: Servidor da API

security:
  - bearerAuth: []

tags:
  - name: clientes
    description: Opera√ß√µes de gerenciamento de clientes
  - name: usuarios
    description: Opera√ß√µes de gerenciamento de usu√°rios da organiza√ß√£o
  - name: notas
    description: Opera√ß√µes de gerenciamento de notas

paths:
  /clientes:
    get:
      summary: Listar clientes
      description: Retorna uma lista paginada de clientes da organiza√ß√£o do usu√°rio autenticado
      tags:
        - clientes
      parameters:
        - name: per_page
          in: query
          description: N√∫mero de clientes por p√°gina (padr√£o 20, m√°ximo 100)
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: page
          in: query
          description: N√∫mero da p√°gina (padr√£o 1)
          required: false
          schema:
            type: integer
            minimum: 1
            default: 1
      responses:
        '200':
          description: Lista de clientes com metadados de pagina√ß√£o
          content:
            application/json:
              schema:
                type: object
                properties:
                  customers:
                    type: array
                    items:
                      $ref: '#/components/schemas/Customer'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '401':
          description: N√£o autorizado - token inv√°lido ou ausente
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
    post:
      summary: Criar um novo cliente
      description: Cria um novo cliente na organiza√ß√£o do usu√°rio autenticado
      tags:
        - clientes
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CustomerInput'
      responses:
        '201':
          description: Cliente criado com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  customer:
                    $ref: '#/components/schemas/Customer'
        '422':
          description: Erros de valida√ß√£o
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
        '401':
          description: N√£o autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'

  /clientes/{id}:
    get:
      summary: Buscar cliente por ID
      description: Retorna um √∫nico cliente pelo seu ID (o mesmo ID exibido na interface web)
      tags:
        - clientes
      parameters:
        - name: id
          in: path
          required: true
          description: ID do cliente (mesmo ID exibido na interface web)
          schema:
            type: integer
            example: 123
      responses:
        '200':
          description: Detalhes do cliente
          content:
            application/json:
              schema:
                type: object
                properties:
                  customer:
                    $ref: '#/components/schemas/Customer'
        '404':
          description: Cliente n√£o encontrado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundError'
        '401':
          description: N√£o autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
    patch:
      summary: Atualizar cliente
      description: Atualiza um cliente existente (parcial ou completo). Use o mesmo ID exibido na interface web.
      tags:
        - clientes
      parameters:
        - name: id
          in: path
          required: true
          description: ID do cliente (mesmo ID exibido na interface web)
          schema:
            type: integer
            example: 123
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CustomerInput'
      responses:
        '200':
          description: Cliente atualizado com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  customer:
                    $ref: '#/components/schemas/Customer'
        '422':
          description: Erros de valida√ß√£o
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
        '404':
          description: Cliente n√£o encontrado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundError'
        '401':
          description: N√£o autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
    delete:
      summary: Deletar cliente
      description: Deleta permanentemente um cliente e todos os dados associados. Use o mesmo ID exibido na interface web.
      tags:
        - clientes
      parameters:
        - name: id
          in: path
          required: true
          description: ID do cliente (mesmo ID exibido na interface web)
          schema:
            type: integer
            example: 123
      responses:
        '204':
          description: Cliente deletado com sucesso
        '404':
          description: Cliente n√£o encontrado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundError'
        '401':
          description: N√£o autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'

  /usuarios:
    get:
      summary: Listar usu√°rios do escrit√≥rio
      description: Retorna uma lista paginada de usu√°rios da organiza√ß√£o
      tags:
        - usuarios
      parameters:
        - name: per_page
          in: query
          description: N√∫mero de usu√°rios por p√°gina (padr√£o 20, m√°ximo 100)
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: page
          in: query
          description: N√∫mero da p√°gina (padr√£o 1)
          required: false
          schema:
            type: integer
            minimum: 1
            default: 1
      responses:
        '200':
          description: Lista de usu√°rios com metadados de pagina√ß√£o
          content:
            application/json:
              schema:
                type: object
                properties:
                  users:
                    type: array
                    items:
                      $ref: '#/components/schemas/User'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '401':
          description: N√£o autorizado - token inv√°lido ou ausente
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
    post:
      summary: Criar um novo usu√°rio
      description: |
        Cria um novo usu√°rio na organiza√ß√£o do usu√°rio autenticado.
        
        O usu√°rio ser√° criado com as credenciais especificadas e poder√° fazer login na plataforma.
        Opcionalmente, voc√™ pode especificar os pap√©is (roles) que o usu√°rio deve ter na organiza√ß√£o.
      tags:
        - usuarios
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserInput'
      responses:
        '201':
          description: Usu√°rio criado com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  user:
                    $ref: '#/components/schemas/User'
        '422':
          description: Erros de valida√ß√£o
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
        '401':
          description: N√£o autorizado - token inv√°lido ou ausente
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'

  /usuarios/{id}:
    get:
      summary: Obter usu√°rio por ID
      description: Retorna os detalhes de um usu√°rio espec√≠fico
      tags:
        - usuarios
      parameters:
        - name: id
          in: path
          required: true
          description: ID p√∫blico do usu√°rio
          schema:
            type: string
            example: "user_abc123"
      responses:
        '200':
          description: Detalhes do usu√°rio
          content:
            application/json:
              schema:
                type: object
                properties:
                  user:
                    $ref: '#/components/schemas/User'
        '404':
          description: Usu√°rio n√£o encontrado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundError'
        '401':
          description: N√£o autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
    patch:
      summary: Atualizar usu√°rio
      description: |
        Atualiza os dados de um usu√°rio existente, incluindo suas fun√ß√µes.
        
        **‚ö†Ô∏è Importante:** N√£o √© poss√≠vel remover a fun√ß√£o de administrador de um usu√°rio atrav√©s da API. Se um usu√°rio j√° possui a fun√ß√£o "admin", ela deve ser mantida na lista de fun√ß√µes. Para remover privil√©gios de administrador, utilize a interface web.
      tags:
        - usuarios
      parameters:
        - name: id
          in: path
          required: true
          description: ID p√∫blico do usu√°rio
          schema:
            type: string
            example: "user_abc123"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserInput'
      responses:
        '200':
          description: Usu√°rio atualizado com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  user:
                    $ref: '#/components/schemas/User'
        '422':
          description: Dados inv√°lidos
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
        '404':
          description: Usu√°rio n√£o encontrado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundError'
        '401':
          description: N√£o autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'

  /notas:
    get:
      summary: Listar notas
      description: Retorna uma lista paginada de notas da organiza√ß√£o do usu√°rio autenticado. Opcionalmente, filtre por cliente espec√≠fico usando o par√¢metro customer_id.
      tags:
        - notas
      parameters:
        - name: customer_id
          in: query
          description: ID interno do cliente para filtrar notas (opcional). Use o mesmo ID exibido na interface web.
          required: false
          schema:
            type: integer
            example: 123
        - name: per_page
          in: query
          description: N√∫mero de notas por p√°gina (padr√£o 20, m√°ximo 100)
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: page
          in: query
          description: N√∫mero da p√°gina (padr√£o 1)
          required: false
          schema:
            type: integer
            minimum: 1
            default: 1
      responses:
        '200':
          description: Lista de notas com metadados de pagina√ß√£o
          content:
            application/json:
              schema:
                type: object
                properties:
                  notes:
                    type: array
                    items:
                      $ref: '#/components/schemas/Note'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '401':
          description: N√£o autorizado - token inv√°lido ou ausente
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
    post:
      summary: Criar uma nova nota
      description: 
        |
        Cria uma nova nota na organiza√ß√£o do usu√°rio autenticado. 
        
        Voc√™ pode opcionalmente associar a nota a um cliente espec√≠fico usando o par√¢metro `customer_id`.
      tags:
        - notas
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NoteInput'
      responses:
        '201':
          description: Nota criada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  note:
                    $ref: '#/components/schemas/Note'
        '422':
          description: Erros de valida√ß√£o
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
        '401':
          description: N√£o autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'

  /notas/{id}:
    get:
      summary: Buscar nota por ID
      description: Retorna uma √∫nica nota pelo seu ID interno (o mesmo ID exibido na interface web)
      tags:
        - notas
      parameters:
        - name: id
          in: path
          required: true
          description: ID interno da nota (mesmo ID exibido na interface web)
          schema:
            type: integer
            example: 123
      responses:
        '200':
          description: Detalhes da nota
          content:
            application/json:
              schema:
                type: object
                properties:
                  note:
                    $ref: '#/components/schemas/Note'
        '404':
          description: Nota n√£o encontrada
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundError'
        '401':
          description: N√£o autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
    patch:
      summary: Atualizar nota
      description: Atualiza uma nota existente (parcial ou completo). Use o mesmo ID exibido na interface web.
      tags:
        - notas
      parameters:
        - name: id
          in: path
          required: true
          description: ID interno da nota (mesmo ID exibido na interface web)
          schema:
            type: integer
            example: 123
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NoteInput'
      responses:
        '200':
          description: Nota atualizada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  note:
                    $ref: '#/components/schemas/Note'
        '422':
          description: Erros de valida√ß√£o
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
        '404':
          description: Nota n√£o encontrada
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundError'
        '401':
          description: N√£o autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
    delete:
      summary: Deletar nota
      description: Deleta permanentemente uma nota. Use o mesmo ID exibido na interface web.
      tags:
        - notas
      parameters:
        - name: id
          in: path
          required: true
          description: ID interno da nota (mesmo ID exibido na interface web)
          schema:
            type: integer
            example: 123
      responses:
        '204':
          description: Nota deletada com sucesso
        '404':
          description: Nota n√£o encontrada
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundError'
        '401':
          description: N√£o autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'


components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: API Key
      description: |
        Informe abaixo o seu token de API.

        Esta documenta√ß√£o interativa automaticamente incluir√° o header 'Authorization', com a string 'Bearer' antes do token.

        Ou seja: para testar a API nesta interface, voc√™ deve informar **APENAS** o seu token de API abaixo, sem a palavra 'Bearer' e nem a palavra Authorization, informando **apenas** o token.
      
  schemas:
    Customer:
      type: object
      properties:
        id:
          type: integer
          description: ID do cliente (mesmo ID exibido na interface web)
          example: 123
        uuid:
          type: string
          format: uuid
          description: UUID do cliente
        name:
          type: string
          description: Nome completo do cliente
          example: "Jo√£o Silva Santos"
        cpf_cnpj:
          type: string
          description: N√∫mero de CPF ou CNPJ brasileiro
          example: "123.456.789-00"
        email:
          type: string
          format: email
          example: "joao@exemplo.com"
        phone_mobile:
          type: string
          description: N√∫mero de celular (apenas d√≠gitos)
          example: "11987654321"
        phone_1:
          type: string
          description: Telefone principal (apenas d√≠gitos)
          example: "1133334444"
        phone_2:
          type: string
          description: Telefone secund√°rio (apenas d√≠gitos)
          example: "1133335555"
        country:
          type: string
          example: "Brasil"
        state:
          type: string
          description: Sigla do estado brasileiro
          example: "SP"
        city:
          type: string
          example: "S√£o Paulo"
        neighborhood:
          type: string
          example: "Vila Madalena"
        zipcode:
          type: string
          description: CEP brasileiro
          example: "05432-000"
        street:
          type: string
          example: "Rua das Flores"
        street_number:
          type: string
          example: "123"
        sexo:
          type: string
          enum: ["M", "F"]
          example: "M"
        birthdate:
          type: string
          format: date
          example: "1980-05-15"
        deathdate:
          type: string
          format: date
          nullable: true
          example: null
        marital_status:
          type: string
          example: "solteiro"
        profession:
          type: string
          example: "engenheiro"
        meu_inss_pass:
          type: string
          description: Senha para o portal Meu INSS
          example: "senha123"
        rg_numero:
          type: string
          description: N√∫mero do documento RG
          example: "12.345.678-9"
        rg_data_emissao:
          type: string
          description: Data de emiss√£o do RG
          example: "2000-01-15"
        father_name:
          type: string
          example: "Jos√© Silva"
        father_birthdate:
          type: string
          format: date
          nullable: true
          example: "1950-03-20"
        mother_name:
          type: string
          example: "Maria Silva"
        mother_birthdate:
          type: string
          format: date
          nullable: true
          example: "1955-07-10"
        cnh_numero:
          type: string
          description: N√∫mero da Carteira Nacional de Habilita√ß√£o
          example: "12345678901"
        cnh_emissao:
          type: string
          format: date
          nullable: true
          example: "2020-01-15"
        cnh_validade:
          type: string
          format: date
          nullable: true
          example: "2025-01-15"
        origin:
          type: string
          description: Como o cliente foi criado
          example: "manually"
        short_public_id:
          type: string
          description: Identificador p√∫blico curto do cliente
          example: "ABC123"
        inbound_email_address_version:
          type: integer
          description: Vers√£o do endere√ßo de email de entrada
          example: 3
        created_at:
          type: string
          format: date-time
          example: "2023-01-15T10:30:00Z"
        updated_at:
          type: string
          format: date-time
          example: "2023-01-16T14:20:00Z"
        tags:
          type: array
          items:
            $ref: '#/components/schemas/Tag'
    
    CustomerInput:
      type: object
      required:
        - name
        - cpf_cnpj
      properties:
        customer:
          type: object
          required:
            - name
            - cpf_cnpj
          properties:
            name:
              type: string
              description: Nome completo do cliente
              example: "Jo√£o Silva Santos"
            cpf_cnpj:
              type: string
              description: N√∫mero de CPF ou CNPJ brasileiro
              example: "123.456.789-00"
            email:
              type: string
              format: email
              example: "joao@exemplo.com"
            phone_mobile:
              type: string
              description: N√∫mero de celular (apenas d√≠gitos)
              example: "11987654321"
            phone_1:
              type: string
              description: Telefone principal (apenas d√≠gitos)
              example: "1133334444"
            phone_2:
              type: string
              description: Telefone secund√°rio (apenas d√≠gitos)
              example: "1133335555"
            country:
              type: string
              example: "Brasil"
            state:
              type: string
              description: Sigla do estado brasileiro
              example: "SP"
            city:
              type: string
              example: "S√£o Paulo"
            neighborhood:
              type: string
              example: "Vila Madalena"
            zipcode:
              type: string
              description: CEP brasileiro
              example: "05432-000"
            street:
              type: string
              example: "Rua das Flores"
            street_number:
              type: string
              example: "123"
            sexo:
              type: string
              enum: ["M", "F"]
              example: "M"
            birthdate:
              type: string
              format: date
              example: "1980-05-15"
            deathdate:
              type: string
              format: date
              nullable: true
            marital_status:
              type: string
              example: "solteiro"
            profession:
              type: string
              example: "engenheiro"
            meu_inss_pass:
              type: string
              description: Senha para o portal Meu INSS
            rg_numero:
              type: string
              description: N√∫mero do documento RG
              example: "12.345.678-9"
            rg_data_emissao:
              type: string
              description: Data de emiss√£o do RG
              example: "15/01/2000"
            father_name:
              type: string
              example: "Jos√© Silva"
            father_birthdate:
              type: string
              format: date
              example: "1950-03-20"
            mother_name:
              type: string
              example: "Maria Silva"
            mother_birthdate:
              type: string
              format: date
              example: "1955-07-10"
            cnh_numero:
              type: string
              description: N√∫mero da Carteira Nacional de Habilita√ß√£o
              example: "12345678901"
            cnh_emissao:
              type: string
              format: date
              example: "2020-01-15"
            cnh_validade:
              type: string
              format: date
              example: "2025-01-15"
            tags:
              type: array
              description: Lista de tags do cliente
              items:
                type: string
              example: ["VIP", "Ativo"]
    
    Tag:
      type: object
      properties:
        name:
          type: string
          example: "VIP"
        color:
          type: string
          example: "#ff0000"
    
    User:
      type: object
      properties:
        id:
          type: string
          description: ID p√∫blico do usu√°rio
          example: "user_abc123"
        uuid:
          type: string
          format: uuid
          description: UUID √∫nico do usu√°rio
          example: "550e8400-e29b-41d4-a716-446655440000"
        name:
          type: string
          description: Nome completo do usu√°rio
          example: "Jo√£o Silva"
        email:
          type: string
          format: email
          description: Email do usu√°rio
          example: "joao@exemplo.com"
        phone_mobile:
          type: string
          description: N√∫mero de celular (apenas d√≠gitos)
          example: "11987654321"
        created_at:
          type: string
          format: date-time
          example: "2023-01-15T10:30:00Z"
        updated_at:
          type: string
          format: date-time
          example: "2023-01-16T14:20:00Z"
        roles:
          type: array
          description: Lista de fun√ß√µes do usu√°rio na organiza√ß√£o
          items:
            type: string
            enum: ["admin", "finances"]
          example: ["admin"]
    
    UserInput:
      type: object
      properties:
        user:
          type: object
          properties:
            name:
              type: string
              description: Nome completo do usu√°rio
              example: "Jo√£o Silva Santos"
            email:
              type: string
              format: email
              description: Email do usu√°rio
              example: "joao@exemplo.com"
            password:
              type: string
              description: Senha do usu√°rio (obrigat√≥ria para cria√ß√£o)
              example: "senha123"
            phone_mobile:
              type: string
              description: N√∫mero de celular (apenas d√≠gitos)
              example: "11987654321"
            roles:
              type: array
              description: Lista de fun√ß√µes do usu√°rio
              items:
                type: string
                enum: ["admin", "finances"]
              example: ["admin", "finances"]
    
    Pagination:
      type: object
      properties:
        count:
          type: integer
          description: N√∫mero total de registros
          example: 150
        page:
          type: integer
          description: N√∫mero da p√°gina atual
          example: 1
        items:
          type: integer
          description: N√∫mero de itens por p√°gina
          example: 20
        pages:
          type: integer
          description: N√∫mero total de p√°ginas
          example: 8
        from:
          type: integer
          description: N√∫mero do registro inicial
          example: 1
        to:
          type: integer
          description: N√∫mero do registro final
          example: 20
        prev:
          type: integer
          nullable: true
          description: N√∫mero da p√°gina anterior
          example: null
        next:
          type: integer
          nullable: true
          description: N√∫mero da pr√≥xima p√°gina
          example: 2
    
    UnauthorizedError:
      type: object
      properties:
        error:
          type: string
          example: "Sem permiss√£o"
          
    NotFoundError:
      type: object
      properties:
        error:
          type: string
          example: "N√£o encontrado"
    
    ValidationError:
      type: object
      properties:
        errors:
          type: array
          items:
            type: string
          example: ["Nome n√£o pode ficar em branco", "CPF/CNPJ √© inv√°lido"]
    
    Note:
      type: object
      properties:
        id:
          type: integer
          description: ID interno da nota (mesmo ID exibido na interface web)
          example: 123
        uuid:
          type: string
          format: uuid
          description: UUID √∫nico da nota
          example: "550e8400-e29b-41d4-a716-446655440000"
        content:
          type: string
          description: Conte√∫do da nota
          example: "Reuni√£o marcada para discutir o caso"
        created_at:
          type: string
          format: date-time
          description: Data e hora de cria√ß√£o da nota
          example: "2023-01-15T10:30:00Z"
        updated_at:
          type: string
          format: date-time
          description: Data e hora da √∫ltima atualiza√ß√£o
          example: "2023-01-16T14:20:00Z"
        user:
          type: object
          description: Usu√°rio que criou a nota
          properties:
            id:
              type: string
              description: ID p√∫blico do usu√°rio
              example: "user_abc123"
            uuid:
              type: string
              format: uuid
              description: UUID do usu√°rio
              example: "550e8400-e29b-41d4-a716-446655440001"
            name:
              type: string
              description: Nome do usu√°rio
              example: "Jo√£o Silva"
            email:
              type: string
              format: email
              description: Email do usu√°rio
              example: "joao@exemplo.com"
        customer:
          type: object
          nullable: true
          description: Cliente associado √† nota (se houver)
          properties:
            id:
              type: integer
              description: ID do cliente
              example: 456
            uuid:
              type: string
              format: uuid
              description: UUID do cliente
              example: "550e8400-e29b-41d4-a716-446655440002"
            name:
              type: string
              description: Nome do cliente
              example: "Maria Santos"
            cpf_cnpj:
              type: string
              description: CPF/CNPJ do cliente
              example: "123.456.789-00"
            email:
              type: string
              format: email
              description: Email do cliente
              example: "maria@exemplo.com"
    
    NoteInput:
      type: object
      required:
        - note
      properties:
        note:
          type: object
          required:
            - content
            - user_id
          properties:
            content:
              type: string
              description: Conte√∫do da nota
              example: "Reuni√£o marcada para discutir o caso"
            user_id:
              type: string
              description: |
                ID p√∫blico do usu√°rio que ser√° associado √† nota.
                
                **‚ö†Ô∏è Importante:** Como o token de API representa um usu√°rio de servi√ßo, voc√™ deve especificar qual usu√°rio real da organiza√ß√£o ser√° o autor da nota. Use o endpoint `/usuarios` para obter os IDs v√°lidos.
              example: "user_abc123"
            customer_id:
              type: integer
              description: ID do cliente para associar √† nota (opcional)
              example: 456

    Publication:
      type: object
      description: Publica√ß√£o do Di√°rio de Justi√ßa Eletr√¥nico
      properties:
        id:
          type: integer
          description: ID interno da publica√ß√£o
          example: 123
        uuid:
          type: string
          format: uuid
          description: UUID da publica√ß√£o
        disponibilizacao_date:
          type: string
          format: date
          description: Data de disponibiliza√ß√£o no DJE
          example: "2025-12-15"
        publication_date:
          type: string
          format: date
          description: Data da publica√ß√£o (primeiro dia √∫til ap√≥s disponibiliza√ß√£o)
          example: "2025-12-16"
        inicio_do_prazo_date:
          type: string
          format: date
          description: Data de in√≠cio do prazo (primeiro dia √∫til ap√≥s publica√ß√£o)
          example: "2025-12-17"
        created_at:
          type: string
          format: date-time
          example: "2025-12-15T10:30:00Z"
        link_tramitacao:
          type: string
          format: uri
          description: Link para visualiza√ß√£o da publica√ß√£o no Tramita√ß√£o Inteligente
          example: "https://tramitacaointeligente.com.br/publicacoes/123"
        link:
          type: string
          format: uri
          description: Link para visualiza√ß√£o da publica√ß√£o no tribunal
          example: "https://pje.trf3.jus.br/..."
        texto:
          type: string
          description: Texto completo da publica√ß√£o
        nomeOrgao:
          type: string
          description: Nome do √≥rg√£o/vara
          example: "2¬™ Vara Gabinete JEF de Campo Grande"
        nomeClasse:
          type: string
          description: Classe processual
          example: "PROCEDIMENTO DO JUIZADO ESPECIAL C√çVEL"
        siglaTribunal:
          type: string
          description: Sigla do tribunal
          example: "TRF3"
        numero_processo:
          type: string
          description: N√∫mero do processo (sem m√°scara)
          example: "50103311520244036201"
        numero_processo_com_mascara:
          type: string
          description: N√∫mero do processo formatado
          example: "5010331-15.2024.4.03.6201"
        destinatarios:
          type: array
          items:
            type: object
            properties:
              nome:
                type: string
                description: Nome do destinat√°rio
                example: "MARIA SILVA SANTOS"
              polo:
                type: string
                description: Polo processual (A = Ativo, P = Passivo)
                example: "A"
        destinatario_advogados:
          type: array
          items:
            type: object
            properties:
              nome:
                type: string
                description: Nome do advogado
                example: "JO√ÉO PEREIRA"
              uf_oab:
                type: string
                description: UF da OAB
                example: "SP"
              numero_oab:
                type: string
                description: N√∫mero da OAB
                example: "12345"

    PublicationsCreatedPayload:
      type: object
      description: Payload do webhook publications.created
      properties:
        event_type:
          type: string
          example: "publications.created"
        idempotency_key:
          type: string
          format: uuid
          description: Chave √∫nica para identificar o evento
        timestamp:
          type: string
          format: date-time
        timestamp_epoch:
          type: integer
          description: Timestamp em formato Unix epoch
          example: 1734263400
        payload:
          type: object
          properties:
            publications:
              type: array
              items:
                $ref: '#/components/schemas/Publication'
